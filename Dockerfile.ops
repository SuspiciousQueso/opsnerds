FROM dunglas/frankenphp:1-php8.3-alpine

# Install extensions
RUN install-php-extensions mbstring curl bcmath intl

# Copy the custom Caddyfile to the correct location
COPY Caddyfile /etc/caddy/Caddyfile

# Set working directory
WORKDIR /var/www/html

# Copy your application files
# Note: In your tree, 'src' and 'config' are brothers to 'public'
COPY . /var/www/html/

# Ensure permissions are correct for the web server
RUN chown -R 1000:1000 /var/www/html